<template>
<div>

  <threat-chart style="height: 30vh;" :data="[activeThreats, inactiveThreats]" :options="chartOptions"></threat-chart>

</div>
</template>

<script>

import ThreatChart from './ThreatChart'
export default {
  name: 'InformationView',
  components: {ThreatChart},
  props: ['malwareData'],
  data () {
    return {
      columnDefs: null,
      data: this.malwareData,
      chartOptions: ['Online Threats', 'Offline Threats'],
      chartData: [40, 20]

    }
  },
  computed: {
    activeThreats () {
      if (this.data === null || this.data === undefined) {
        return 0
      }
      if (this.data.length === 0) {
        return 0
      }

      return this.data.filter(item => {
        return item.urlStatus === 'online'
      }).length
    },
    inactiveThreats () {
      if (this.data === null || this.data === undefined) {
        return 0
      }
      if (this.data.length === 0) {
        return 0
      }

      return this.data.filter(item => {
        return item.urlStatus !== 'online'
      }).length
    }
  },
  watch: {
    malwareData: function () {
      this.data = this.malwareData
    }
  }
}
</script>

<style scoped>

</style>
